<app-header
  currentRoute="cardapio"
  [totalItens]="totalItens"
  [showSearchField]="true"
  (navClick)="onNavClick($event)"
  (searchChange)="onSearchChange($event)"
>
</app-header>

<div class="cardapio-container">
  <!-- Saudação personalizada -->
  <div class="welcome-message">
    <h2>Olá {{ nomeUsuario }}!</h2>
  </div>

  <div class="produtos-grid">
    @for (produto of produtosFiltrados$ | async; track produto.id) {
      <div class="produto-card clean-card">
        <div class="produto-header">
          <h3 class="produto-nome">{{ produto.nome }}</h3>
          <span class="produto-preco">{{ formatarPreco(produto.preco) }}</span>
        </div>
        <button
          mat-raised-button
          class="add-button btn-primary"
          (click)="adicionarProduto(produto)"
        >
          <mat-icon>add_circle</mat-icon>
          Adicionar
        </button>
      </div>
    }

    @if ((produtosFiltrados$ | async)?.length === 0) {
      <div class="no-results">
        <mat-icon>search_off</mat-icon>
        <p>Nenhum produto encontrado</p>
      </div>
    }
  </div>

  @if (produtoManualHabilitado) {
    <div class="manual-section clean-card">
      <div class="manual-content">
        <mat-icon class="manual-icon">edit_note</mat-icon>
        <div class="manual-text">
          <h3>Produto não encontrado?</h3>
          <p>Adicione um item personalizado à sua comanda</p>
        </div>
        <button mat-stroked-button class="manual-button" (click)="abrirItemManual()">
          <mat-icon>add</mat-icon>
          Adicionar Manual
        </button>
      </div>
    </div>
  }
</div>
